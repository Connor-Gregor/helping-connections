{% load static %}
{% load user_extras %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Helping Connections</title>
    <link rel="stylesheet" href="{% static 'styles.css' %}">
</head>
<body>

 
    <nav class="navbar">
        <div class="logo">Helping Connections</div>
        <ul class="nav-links">
            <li><a href="#">Home</a></li>
            <li><a href="#">Find Help</a></li>
            <li><a href="#">Volunteer</a></li>
            <li><a href="#">About</a></li>

            {% if user.is_authenticated %}
                <li class="profile-menu">

                    <!-- Profile circle button -->
                    <button class="profile-circle" id="profileBtn">
                        {{ user|initials }}
                    </button>

                    <!-- Dropdown menu -->
                    <div id="profileDropdown" class="profile-dropdown">

                        <div class="profile-dropdown-header">

                            <div class="profile-initials-large">
                                {{ user|initials }}
                            </div>

                            <div class="profile-meta">

                                <div class="profile-name">
                                    {{ user.get_full_name|default:user.username }}
                                </div>

                                <div class="profile-email">
                                    {{ user.email }}
                                </div>

                            </div>

                        </div>

                        <div class="profile-dropdown-links">

                            <a class="dropdown-link" href="{% url 'account' %}">View Account</a>

                            <a class="dropdown-link danger" href="{% url 'logout' %}">Sign Out</a>

                        </div>

                    </div>


                </li>

            {% else %}

                <li><a href="{% url 'login' %}">Login</a></li>

            {% endif %}

        </ul>
    </nav>

  
    <main class="hero">
        <div class="hero-overlay">
            <h1>Welcome to Helping Connections</h1>
            <p>Connecting people with the resources they need.</p>
            <a href="{% url 'login' %}" class="cta-btn">Get Started</a>

        </div>
    </main>
    <!-- Profile dropdown script -->
    <script>

        const profileBtn = document.getElementById("profileBtn");
        const profileDropdown = document.getElementById("profileDropdown");

        if (profileBtn && profileDropdown) {

            profileBtn.addEventListener("click", function(event) {

                event.stopPropagation();

                profileDropdown.classList.toggle("open");

            });

            document.addEventListener("click", function() {

                profileDropdown.classList.remove("open");

            });

        }

    </script>
</body>
</html>
